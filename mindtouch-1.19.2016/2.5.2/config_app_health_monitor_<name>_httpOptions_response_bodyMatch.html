<content type="text/html" title="bodyMatch"><head><style type="text/css">/*<![CDATA[*/.idf-toc div.wiki-toc {
  float: right;
  background: #fff;
  border: 1px solid #ccc;
  padding: 0px 0px 10px 10px;
  width: 225px;
}
/*]]>*/</style></head><body><div class="lrs-Path"> <div id="section_1" class="mt-page-section"><span id=".2Fconfig.2Fapp.2Fhealth.2Fmonitor.2F.3Cname.3E.2FhttpOptions.2Fresponse.2FbodyMatch"></span><h2 class="editable">/config/app/health/monitor/&lt;name&gt;/httpOptions/response/bodyMatch</h2> <p> <p>Configure the expected response body.</p> <p class="lrs-Subhead">Use</p> <p>Use if you want to specify the expected response body. You can specify response body one of the following ways:</p> <ul> <li>Exact match&#8212;Match the&#160;exact content of the entire response body. For the response to be successful, the body must exactly match what you specify here. In the CLI, the maximum length of the body match is 10,240 characters.</li> <li>Regex match&#8212;Match the regex&#160;somewhere in the response body. Use Perl-compatible syntax. <ul> <li>We recommend checking the regex before implementing it. One common tool is the <a class="external" title="http://www.pcre.org/pcre.txt" rel="external nofollow" href="http://www.pcre.org/pcre.txt" target="_blank">pcretest tool</a>, which is available from bash mode in F5<sup>&#174;</sup> LineRate<sup>&#174;</sup>.</li> <li>Be aware that a complex regex or one that has to search for text at the end of&#160;a long page could affect performance.</li> </ul> </li> </ul> <p>In the CLI, configuring one method automatically removes any configuration from the other method.</p> <p>In REST, <span>if the deprecated node (</span><span>/config/app/health/monitor/&lt;name&gt;/httpOptions/response/body)&#160;</span><span>is currently configured, you must send a DELETE command for the deprecated node before using this</span>&#160;node.</p></p> <div id="section_2" class="mt-page-section"><span id="Parameters"></span><h3 style="border:none" class="editable">Parameters</h3> <p>name: Name of health monitor object</p> </div><div id="section_3" class="mt-page-section"><span id="Data_Key"></span><h3 style="border:none" class="editable">Data Key</h3> <p><span>The data key contains JSON-formatted&#160;keys with&#160;the text to match and whether it is an exact match (isRegex false) or a regex match </span>(isRegex&#160;true)<span>:</span></p> <p><span>&quot;data&quot;: { &quot;match&quot;: &quot;thisIsTheStringToMatch&quot;, &quot;isRegex&quot;: false }</span></p> <p> <div class="lrs-Note style-wrap"> <p><span class="lrs-Bold">Note: </span>When the default key is set to true, it means the object is set to its default. In this case, the system works as follows:</p> <ul> <li>On a PUT operation, the system ignores the data key. (Applicable only to /config&#160;nodes.)</li> <li>On a GET operation, the response only contains <span class="lrs-OutputWord">&quot;default&quot;: True</span> and does not contain the data key.</li> <li>If the object has a base, it inherits its setting from its base.</li> </ul> <p style="text-indent: 0px;">See <a style="color: rgb(0, 74, 128); " title="Release_2.0/250REST_API_Reference_Guide/000Getting_Started_with_the_REST_API/300Understanding_the_REST_Hierarchy#Setting_Objects_to_Their_Default_(Default_Key)" rel="internal" href="https://docs.lineratesystems.com/093Release_2.5/250REST_API_Reference_Guide/000Getting_Started_with_the_REST_API/300Understanding_the_REST_Hierarchy#Setting_Objects_to_Their_Default_(Default_Key)">Setting Objects to Their Default</a>.</p> </div> </p> <div id="section_4" class="mt-page-section"><span id="Data_Type"></span><h4 style="border:none" class="editable">Data Type</h4> <p>json</p> </div><div id="section_5" class="mt-page-section"><span id="Default_Data_Value"></span><h4 style="border:none" class="editable">Default Data Value</h4> <p>0</p> <p> <p>An object uses the default data value when one of the following is true:</p> <ul> <li>For objects without bases&#8212;When the object's default key is true.</li> <li>For objects with bases&#8212;When the object's default key is true, and when the default key is true for all of the object's bases.</li> </ul> </p> </div></div><div id="section_6" class="mt-page-section"><span id="Default_Allowed"></span><h3 style="border:none" class="editable">Default Allowed</h3> <p>True</p> </div><div id="section_7" class="mt-page-section"><span id="Request_Methods"></span><h3 style="border:none" class="editable">Request Methods</h3> <p>GET, PUT</p> </div><div id="section_8" class="mt-page-section"><span id="Related"></span><h3 style="border:none" class="editable">Related</h3> <p><a title="REST_API_Reference_Guide/config/app/health/monitor" rel="internal" href="https://docs.lineratesystems.com/093Release_2.5/250REST_API_Reference_Guide/config/app/health/monitor">REST API Reference - /config/app/health/monitor</a></p> <p><a title="REST_API_Reference_Guide/status/app" rel="internal" href="https://docs.lineratesystems.com/093Release_2.5/200CLI_Reference_Guide/Configure_Commands/Health_Monitor_Mode_Commands">CLI Reference - Health Monitor</a></p> </div><div id="section_9" class="mt-page-section"><span id="Examples"></span><h3 style="border:none" class="editable">Examples</h3> <p>GET</p> <p class="plain lrs-Curl">curl -b cookie.jar -k https://10.1.2.3:8443/lrs/api/v1.0/config/app/health/monitor/hm-01/httpOptions/response/bodyMatch</p> <p>GET Response</p> <pre>
{&quot;/config/app/health/monitor/hm-01/httpOptions/response/bodyMatch&quot;: {&quot;default&quot;: True,
                                                                      &quot;defaultAllowed&quot;: True,
                                                                      &quot;deleteAllowed&quot;: False,
                                                                      &quot;numChildren&quot;: 0,
                                                                      &quot;redacted&quot;: False,
                                                                      &quot;sensitive&quot;: False,
                                                                      &quot;type&quot;: &quot;json&quot;},
 &quot;httpResponseCode&quot;: 200,
 &quot;recurse&quot;: False,
 &quot;requestPath&quot;: &quot;/config/app/health/monitor/hm-01/httpOptions/response/bodyMatch&quot;}
</pre> <p>PUT</p> <p class="plain lrs-Curl">curl -b cookie.jar --data @data.json -k -H &quot;Content-Type: application/json&quot; -X PUT https://10.1.2.3:8443/lrs/api/v1.0/config/app/health/monitor/hm-01/httpOptions/response/bodyMatch</p> <p>PUT Response</p> <pre>
{&quot;httpResponseCode&quot;: 200,
  &quot;requestPath&quot;: &quot;/config/app/health/monitor/hm-01/httpOptions/response/bodyMatch&quot;,
  &quot;recurse&quot;:false}</pre> </div></div></div></body><body target="toc"><ol><li><a href="#.2Fconfig.2Fapp.2Fhealth.2Fmonitor.2F.3Cname.3E.2FhttpOptions.2Fresponse.2FbodyMatch" rel="internal">/config/app/health/monitor/&lt;name&gt;/httpOptions/response/bodyMatch</a><ol><li><a href="#Parameters" rel="internal">Parameters</a></li><li><a href="#Data_Key" rel="internal">Data Key</a><ol><li><a href="#Data_Type" rel="internal">Data Type</a></li><li><a href="#Default_Data_Value" rel="internal">Default Data Value</a></li></ol></li><li><a href="#Default_Allowed" rel="internal">Default Allowed</a></li><li><a href="#Request_Methods" rel="internal">Request Methods</a></li><li><a href="#Related" rel="internal">Related</a></li><li><a href="#Examples" rel="internal">Examples</a></li></ol></li></ol></body></content>